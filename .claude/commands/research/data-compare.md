---
description: 'ä»¿çœŸ-å®æµ‹å¯¹æ¯”åˆ†æ - æ¯”è¾ƒä»¿çœŸç»“æœä¸å®éªŒæ•°æ®çš„ä¸€è‡´æ€§'
---

# /data:compare - ä»¿çœŸ-å®æµ‹å¯¹æ¯”

$ARGUMENTS

---

## ä¾èµ–èƒ½åŠ›

- `data.load` - æ•°æ®åŠ è½½ (ç”¨æˆ·é…ç½®)
- `data.plot` - æ•°æ®å¯è§†åŒ– (ç”¨æˆ·é…ç½®)
- `docs.query` - Pandas/NumPy/SciPy æ–‡æ¡£ (context7)

## æ‰§è¡Œæµç¨‹

### 1. ä¸Šä¸‹æ–‡æ£€ç´¢
- è°ƒç”¨ `mcp__ace-tool__search_context` å®šä½ä»¿çœŸç»“æœå’Œå®éªŒæ•°æ®æ–‡ä»¶

### 2. å‚æ•°æ ¡éªŒ
æ£€æŸ¥è¾“å…¥æ˜¯å¦åŒ…å«:
- **ä»¿çœŸæ•°æ®**: ODB æå–ç»“æœã€CSVã€NPY
- **å®æµ‹æ•°æ®**: ä¼ æ„Ÿå™¨æ•°æ®ã€CSVã€MAT
- **å¯¹æ¯”ç»´åº¦**: æ—¶åŸŸã€é¢‘åŸŸã€ç»Ÿè®¡é‡
- **å¯¹é½æ–¹å¼**: æ—¶é—´æˆ³å¯¹é½ã€å³°å€¼å¯¹é½ã€æ‰‹åŠ¨åç§»

### 3. è®¡åˆ’é¢„è§ˆ

```markdown
## ğŸ“‹ æ‰§è¡Œè®¡åˆ’

| æ­¥éª¤ | æ“ä½œ | é£é™©ç­‰çº§ |
|------|------|----------|
| 1 | åŠ è½½ä»¿çœŸä¸å®æµ‹æ•°æ® | low |
| 2 | æ•°æ®å¯¹é½ä¸æ’å€¼ | low |
| 3 | åŒæ¨¡å‹åˆ†æ (Codex è¯¯å·®è®¡ç®— + Gemini å¯è§†åŒ–) | low |
| 4 | ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š | low |

**é¢„è®¡å½±å“**:
- ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š: `artifacts/reports/sim-exp-compare.md`
- ç”Ÿæˆå¯¹æ¯”å›¾è¡¨: `artifacts/figures/sim-exp-*.png`
```

### 4. ç¡®è®¤é—¨æ§
- **é£é™©ç­‰çº§**: low
- **è¡Œä¸º**: auto - è‡ªåŠ¨æ‰§è¡Œ

### 5. æ‰§è¡Œ

#### Step 1: é¢„æ£€ç´¢æ–‡æ¡£
ä½¿ç”¨ context7 è·å–æ•°æ®å¯¹æ¯”æœ€ä½³å®è·µ:
```javascript
mcp__context7__query-docs({
  libraryId: "/scipy/scipy",
  query: "signal correlation, DTW dynamic time warping, interpolation alignment"
})
```

#### Step 2: åŒæ¨¡å‹äº¤å‰éªŒè¯

**å¹¶è¡Œè°ƒç”¨ Codex + Gemini** (`run_in_background: true`):

##### Codex Brief (è¯¯å·®åˆ†æ)
```bash
C:/Users/ljh/.claude/bin/codeagent-wrapper.exe --backend codex - "$PWD" <<'EOF'
ROLE_FILE: C:/Users/ljh/.claude/.ccg/prompts/codex/analyzer.md
<TASK>
ä»»åŠ¡ç±»å‹: ä»¿çœŸ-å®æµ‹æ•°æ®å¯¹æ¯”åˆ†æ
éœ€æ±‚: è®¡ç®—ä»¿çœŸä¸å®æµ‹æ•°æ®çš„è¯¯å·®æŒ‡æ ‡
ä¸Šä¸‹æ–‡:
- ä»¿çœŸæ•°æ®: [sim-data-path]
- å®æµ‹æ•°æ®: [exp-data-path]
- å¯¹æ¯”å­—æ®µ: [å­—æ®µåˆ—è¡¨]
- Scipy æ–‡æ¡£ (from context7): [ç›¸å…³æ€§åˆ†æã€DTW]
åˆ†æå†…å®¹:
1. æ•°æ®å¯¹é½ (æ—¶é—´æˆ³æ’å€¼æˆ– DTW)
2. è¯¯å·®æŒ‡æ ‡è®¡ç®—:
   - RMSE (å‡æ–¹æ ¹è¯¯å·®)
   - MAE (å¹³å‡ç»å¯¹è¯¯å·®)
   - MAPE (å¹³å‡ç»å¯¹ç™¾åˆ†æ¯”è¯¯å·®)
   - RÂ² (å†³å®šç³»æ•°)
   - å³°å€¼è¯¯å·®
   - ç›¸ä½è¯¯å·®
3. é¢‘åŸŸå¯¹æ¯” (PSD å·®å¼‚)
4. ç»Ÿè®¡æ˜¾è‘—æ€§æ£€éªŒ
</TASK>
OUTPUT: JSON æ ¼å¼åˆ†æç»“æœ
{
  "alignment": {"method": "...", "offset": 0.0},
  "metrics": {
    "rmse": 0.0,
    "mae": 0.0,
    "mape": 0.0,
    "r_squared": 0.0,
    "peak_error": 0.0,
    "phase_error": 0.0
  },
  "frequency_analysis": {...},
  "statistical_tests": {...}
}
EOF
```

##### Gemini Brief (å¯è§†åŒ–è®¾è®¡)
```bash
C:/Users/ljh/.claude/bin/codeagent-wrapper.exe --backend gemini - "$PWD" <<'EOF'
ROLE_FILE: C:/Users/ljh/.claude/.ccg/prompts/gemini/analyzer.md
<TASK>
ä»»åŠ¡ç±»å‹: ä»¿çœŸ-å®æµ‹å¯¹æ¯”å¯è§†åŒ–
éœ€æ±‚: è®¾è®¡æ¸…æ™°çš„å¯¹æ¯”å¯è§†åŒ–æ–¹æ¡ˆ
ä¸Šä¸‹æ–‡:
- ä»¿çœŸæ•°æ®: [sim-data-path]
- å®æµ‹æ•°æ®: [exp-data-path]
- å¯¹æ¯”ç»´åº¦: [æ—¶åŸŸ/é¢‘åŸŸ/ç»Ÿè®¡é‡]
è®¾è®¡å†…å®¹:
1. æ—¶åŸŸå åŠ å¯¹æ¯”å›¾ (ä»¿çœŸ vs å®æµ‹)
2. è¯¯å·®åˆ†å¸ƒç›´æ–¹å›¾
3. ç›¸å…³æ€§æ•£ç‚¹å›¾ + æ‹Ÿåˆçº¿
4. é¢‘è°±å¯¹æ¯”å›¾ (PSD)
5. æ®‹å·®æ—¶åºå›¾
6. é…è‰²ä¸æ ‡æ³¨å»ºè®®
</TASK>
OUTPUT: Matplotlib ç»‘å®šä»£ç  + å¯è§†åŒ–è®¾è®¡è¯´æ˜
EOF
```

##### æ•´åˆç­–ç•¥
ç­‰å¾…ä¸¤ä¸ªæ¨¡å‹è¿”å›å (`TaskOutput`):
1. **é‡‡çº³ Codex** çš„è¯¯å·®è®¡ç®—ç»“æœ (æ•°å€¼æŒ‡æ ‡)
2. **é‡‡çº³ Gemini** çš„å¯è§†åŒ–ä»£ç  (å›¾è¡¨è®¾è®¡)
3. Claude æ‰§è¡Œå¯è§†åŒ–ä»£ç ï¼Œç”Ÿæˆå›¾è¡¨

#### Step 3: ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š

```markdown
# ä»¿çœŸ-å®æµ‹å¯¹æ¯”æŠ¥å‘Š
**ç”Ÿæˆæ—¶é—´**: 2026-01-17 10:30:00

---

## æ•°æ®æ¦‚è§ˆ
| æ•°æ®æº | æ–‡ä»¶ | é‡‡æ ·ç‚¹æ•° | æ—¶é—´èŒƒå›´ |
|--------|------|----------|----------|
| ä»¿çœŸ | sim_results.csv | 10,000 | 0-10s |
| å®æµ‹ | exp_data.csv | 12,000 | 0-12s |

## è¯¯å·®æŒ‡æ ‡ (Codex åˆ†æ)
| æŒ‡æ ‡ | å€¼ | è¯„ä»· |
|------|------|------|
| RMSE | 0.0234 | ä¼˜ç§€ |
| MAE | 0.0189 | ä¼˜ç§€ |
| MAPE | 2.3% | è‰¯å¥½ |
| RÂ² | 0.9876 | ä¼˜ç§€ |
| å³°å€¼è¯¯å·® | 3.2% | è‰¯å¥½ |
| ç›¸ä½è¯¯å·® | 0.012s | ä¼˜ç§€ |

## å¯è§†åŒ–å¯¹æ¯” (Gemini è®¾è®¡)
### æ—¶åŸŸå¯¹æ¯”
![](artifacts/figures/sim-exp-timeseries.png)

### è¯¯å·®åˆ†å¸ƒ
![](artifacts/figures/sim-exp-error-hist.png)

### ç›¸å…³æ€§åˆ†æ
![](artifacts/figures/sim-exp-correlation.png)

### é¢‘è°±å¯¹æ¯”
![](artifacts/figures/sim-exp-psd.png)

## ç»“è®ºä¸å»ºè®®
- ä»¿çœŸæ¨¡å‹æ•´ä½“ç²¾åº¦è‰¯å¥½ (RÂ² > 0.98)
- é«˜é¢‘æ®µå­˜åœ¨è½»å¾®åå·®ï¼Œå»ºè®®æ£€æŸ¥é˜»å°¼å‚æ•°
- å³°å€¼å“åº”å»åˆåº¦é«˜ï¼Œè¾¹ç•Œæ¡ä»¶è®¾ç½®åˆç†
```

### 6. ç»“æœå‘ˆç°

```markdown
## âœ… å¯¹æ¯”åˆ†æå®Œæˆ

### æ ¸å¿ƒæŒ‡æ ‡
- **æ•´ä½“ç›¸å…³æ€§**: RÂ² = 0.9876 (ä¼˜ç§€)
- **å‡æ–¹æ ¹è¯¯å·®**: RMSE = 0.0234
- **å³°å€¼è¯¯å·®**: 3.2%

### ç”Ÿæˆæ–‡ä»¶
- å¯¹æ¯”æŠ¥å‘Š: `artifacts/reports/sim-exp-compare.md`
- æ—¶åŸŸå¯¹æ¯”å›¾: `artifacts/figures/sim-exp-timeseries.png`
- è¯¯å·®åˆ†å¸ƒå›¾: `artifacts/figures/sim-exp-error-hist.png`
- ç›¸å…³æ€§å›¾: `artifacts/figures/sim-exp-correlation.png`

### åç»­æ“ä½œ
- å‚æ•°æ ‡å®š: `/data:calibrate --target [å‚æ•°] --exp exp_data.csv`
- æ•æ„Ÿæ€§åˆ†æ: `/data:calibrate --sensitivity [å‚æ•°èŒƒå›´]`
- æ¨¡å‹ä¼˜åŒ–: `/sim:modify --based-on compare-report`
```

---

## å¯¹æ¯”æ¨¡å¼

### æ—¶åŸŸå¯¹æ¯”
```bash
/data:compare --sim sim.csv --exp exp.csv --mode timeseries
```

### é¢‘åŸŸå¯¹æ¯”
```bash
/data:compare --sim sim.csv --exp exp.csv --mode frequency --fft-size 2048
```

### ç»Ÿè®¡é‡å¯¹æ¯”
```bash
/data:compare --sim sim.csv --exp exp.csv --mode statistics
```

### å¤šé€šé“å¯¹æ¯”
```bash
/data:compare --sim sim.csv --exp exp.csv --channels ch1,ch2,ch3
```

---

## å¤šæ¨¡å‹åä½œ

**åä½œæ¨¡å¼**: åŒæ¨¡å‹äº¤å‰éªŒè¯

| æ¨¡å‹ | èŒè´£ | è¾“å‡º |
|------|------|------|
| **Context7** | æä¾› SciPy/NumPy æ–‡æ¡£ | å¯¹æ¯”åˆ†ææœ€ä½³å®è·µ |
| **Codex** | è¯¯å·®è®¡ç®—ã€ç»Ÿè®¡åˆ†æã€æ•°å€¼æŒ‡æ ‡ | JSON ç»“æ„åŒ–æŠ¥å‘Š |
| **Gemini** | å¯è§†åŒ–è®¾è®¡ã€å›¾è¡¨ç¾åŒ–ã€é…è‰²æ–¹æ¡ˆ | Matplotlib ä»£ç  |
| **Claude** | æ•´åˆä»²è£ã€æ‰§è¡Œå¯è§†åŒ–ã€æŠ¥å‘Šäº¤ä»˜ | å®Œæ•´å¯¹æ¯”æŠ¥å‘Š |

---

## é”™è¯¯å¤„ç†

| é”™è¯¯ç±»å‹ | å¤„ç†ç­–ç•¥ |
|----------|----------|
| æ•°æ®é•¿åº¦ä¸ä¸€è‡´ | è‡ªåŠ¨æ’å€¼å¯¹é½æˆ–æˆªæ–­ |
| æ—¶é—´æˆ³æ ¼å¼ä¸åŒ¹é… | å°è¯•å¤šç§æ ¼å¼è§£æ |
| å­—æ®µåä¸åŒ¹é… | æç¤ºç”¨æˆ·æŒ‡å®šæ˜ å°„å…³ç³» |
| é‡‡æ ·ç‡å·®å¼‚è¿‡å¤§ | è­¦å‘Šå¹¶å»ºè®®é‡é‡‡æ · |

---

## å‚è€ƒ

- å…±äº«åè®®: `.claude/commands/research/_protocol.md`
- èƒ½åŠ›é…ç½®: `.claude/.research/capabilities.yaml`
- æ•°æ®å¤„ç†: `/data:process`
- ML è®­ç»ƒ: `/data:train`
- å‚æ•°æ ‡å®š: `/data:calibrate`
